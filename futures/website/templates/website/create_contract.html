{% extends "website/base_template.html" %}

{% block body %}
  <h2>Create Contract</h2>

  {% if product %}
Creating contract for: <span>{{ product.name }} </span>

    <form method="POST" action="/contracts">
      {% csrf_token %}
      <div class="form-group row">
          <label class="col-sm-2 col-form-label">Product Direction</label>
          <div class="form-check form-check-inline col-sm-2">
          <input type="radio" class="form-check-input" id="typeBuy" name="type" value="buy" required/>
          <label class="form-check-label" for="typeBuy">Receive</label>
        </div>
        <div class="form-check form-check-inline">
          <input type="radio" class="form-check-input" id="typeSell" name="type" value="sell" required/>
          <label class="form-check-label" for="typeSell">Deliver</label>
        </div>
      </div>
      <!--
      <div class="form-group row">
        <label class="col-sm-2 col-form-label" for="inputProduct">Product</label>
        <div class="col-sm-4">
          <select class="form-control" id="inputProduct">
            {% for p in product_list %}
              <option value="{{ p.id }}">{{ p.name }}</option>
            {% endfor %}
          </select>
        </div>
      </div>
      -->
      <div class="form-group row">
        <label for="inputQty" class="col-sm-2 col-form-label">Quantity</label>
        <div class="col-sm-4">
          <input type="number" class="form-control" name="quantity" id="inputQty" value="" required/>
        </div>
      </div>
      <div class="form-group row">
          <label for="inputExpy" class="col-sm-2 col-form-label">Expiration</label>
          <div class="col-sm-4">
            <input type="date" class="form-control" name="expires_at" id="inputExpy" value="" required/>
          </div>
      </div>
      <input type="hidden" name="product_id" value="{{ product.id }}"/>
      <input type="hidden" name="price" value="{{ product.price }}"/>
      <div class="form-group row">
        <div class="col-sm-2"></div>
        <div class="col-sm-4">
          <button name="submit" class="ttc-button btn btn-primary">Submit</button>
        </div>
      </div>
    </form>
  {% else %}
    <p>Oops!</p>
  {% endif %}
{% endblock %}